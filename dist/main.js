(()=>{const e=document.querySelector(".background"),t=(document.querySelector(".weather-card"),document.querySelector("svg")),n=document.querySelector(".location"),c=document.querySelector(".temperature"),o=document.querySelector(".condition"),r=document.querySelector("form"),a=document.querySelector(".settings-button"),u=document.querySelector(".modal"),i=document.querySelector(".overlay"),s=document.querySelector(".dark-mode"),d=document.querySelector(".scale");let l=d.value;function m(e){n.textContent=`${e.location.name}, ${e.location.country}`,c.textContent="celsius"===l?e.current.temp_c+"°C":e.current.temp_f+"°F",o.textContent=e.current.condition.text}function y(t){n.textContent="",c.textContent="",o.textContent="",e.style["background-image"]=""}function v(e){y(),n.textContent=e}a.addEventListener("click",(e=>{u.classList.add("active"),i.classList.add("active")})),i.addEventListener("click",(e=>{u.classList.remove("active"),i.classList.remove("active")})),d.addEventListener("change",(e=>{l=d.value})),s.addEventListener("change",(e=>{s.checked?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")})),r.addEventListener("submit",(async n=>{n.preventDefault(),y(),e.style["background-color"]="rgba(0, 0, 0, 0.5)",t.style.visibility="visible";const c=document.querySelector("input").value,o=await async function(e){const t="http://api.weatherapi.com/v1/current.json?key=c8360e2b8d134939891121004232706&q=$"+e;return(await fetch(t)).json()}(c);e.style["background-color"]="",t.style.visibility="hidden",o.current?(m(o),async function(t){const n=await async function(e){const t="https://tenor.googleapis.com/v2/search?q="+e+"&key=AIzaSyBPMeUcdifnjv8NE9f_T-JJrJRLwIWYf4A",n=await fetch(t);if(n.ok){const e=(await n.json()).results;return e[Math.floor(Math.random()*e.length)].media_formats.gif.url}}("weather "+t);e.style["background-image"]=`url(${n})`}(o.current.condition.text)):v(o.error.message)}))})();